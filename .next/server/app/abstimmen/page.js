(()=>{var e={};e.id=406,e.ids=[406],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},37568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d});var s=r(50482),a=r(69108),n=r(62563),i=r.n(n),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["abstimmen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,65095)),"C:\\Users\\Heidenreich\\CascadeProjects\\vereins-wahlen\\src\\app\\abstimmen\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85306)),"C:\\Users\\Heidenreich\\CascadeProjects\\vereins-wahlen\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Heidenreich\\CascadeProjects\\vereins-wahlen\\src\\app\\abstimmen\\page.tsx"],u="/abstimmen/page",m={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/abstimmen/page",pathname:"/abstimmen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25882:(e,t,r)=>{Promise.resolve().then(r.bind(r,14891))},64290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},23485:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},15997:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]])},73229:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},14891:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ej});var s=r(95344),a=r(3729),n=r(8428),i=r(81012),l=r(48414),o=r(5094),d=r(46540),c=r(5426),u=r(23673),m=r(85222),f=r(31405),p=r(98462),x=r(74141),h=r(87290),g=r(99048),v=r(2256),b=r(33183),y=a.createContext(void 0);function w(e){let t=a.useContext(y);return e||t||"ltr"}var j="rovingFocusGroup.onEntryFocus",N={bubbles:!1,cancelable:!0},k="RovingFocusGroup",[A,C,D]=(0,h.B)(k),[R,S]=(0,p.b)(k,[D]),[I,q]=R(k),P=a.forwardRef((e,t)=>(0,s.jsx)(A.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(A.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(E,{...e,ref:t})})}));P.displayName=k;var E=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...h}=e,g=a.useRef(null),y=(0,f.e)(t,g),A=w(l),[D,R]=(0,b.T)({prop:o,defaultProp:d??null,onChange:c,caller:k}),[S,q]=a.useState(!1),P=(0,v.W)(u),E=C(r),F=a.useRef(!1),[M,_]=a.useState(0);return a.useEffect(()=>{let e=g.current;if(e)return e.addEventListener(j,P),()=>e.removeEventListener(j,P)},[P]),(0,s.jsx)(I,{scope:r,orientation:n,dir:A,loop:i,currentTabStopId:D,onItemFocus:a.useCallback(e=>R(e),[R]),onItemShiftTab:a.useCallback(()=>q(!0),[]),onFocusableItemAdd:a.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>_(e=>e-1),[]),children:(0,s.jsx)(x.WV.div,{tabIndex:S||0===M?-1:0,"data-orientation":n,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:(0,m.Mj)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,m.Mj)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!S){let t=new CustomEvent(j,N);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=E().filter(e=>e.focusable);V([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),p)}}F.current=!1}),onBlur:(0,m.Mj)(e.onBlur,()=>q(!1))})})}),F="RovingFocusGroupItem",M=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:l,children:o,...d}=e,c=(0,g.M)(),u=l||c,f=q(F,r),p=f.currentTabStopId===u,h=C(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=f;return a.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),(0,s.jsx)(A.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:(0,s.jsx)(x.WV.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...d,ref:t,onMouseDown:(0,m.Mj)(e.onMouseDown,e=>{n?f.onItemFocus(u):e.preventDefault()}),onFocus:(0,m.Mj)(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:(0,m.Mj)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let a=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return _[a]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let s=r.indexOf(e.currentTarget);r=f.loop?function(e,t){return e.map((r,s)=>e[(t+s)%e.length])}(r,s+1):r.slice(s+1)}setTimeout(()=>V(r))}}),children:"function"==typeof o?o({isCurrentTabStop:p,hasTabStop:null!=y}):o})})});M.displayName=F;var _={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var z=r(63085),T=r(92062),Z=r(43234),L="Radio",[W,O]=(0,p.b)(L),[G,U]=W(L),B=a.forwardRef((e,t)=>{let{__scopeRadio:r,name:n,checked:i=!1,required:l,disabled:o,value:d="on",onCheck:c,form:u,...p}=e,[h,g]=a.useState(null),v=(0,f.e)(t,e=>g(e)),b=a.useRef(!1),y=!h||u||!!h.closest("form");return(0,s.jsxs)(G,{scope:r,checked:i,disabled:o,children:[(0,s.jsx)(x.WV.button,{type:"button",role:"radio","aria-checked":i,"data-state":Y(i),"data-disabled":o?"":void 0,disabled:o,value:d,...p,ref:v,onClick:(0,m.Mj)(e.onClick,e=>{i||c?.(),y&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),y&&(0,s.jsx)(K,{control:h,bubbles:!b.current,name:n,value:d,checked:i,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});B.displayName=L;var $="RadioIndicator",H=a.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:a,...n}=e,i=U($,r);return(0,s.jsx)(Z.z,{present:a||i.checked,children:(0,s.jsx)(x.WV.span,{"data-state":Y(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});H.displayName=$;var K=a.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},l)=>{let o=a.useRef(null),d=(0,f.e)(o,l),c=(0,T.D)(r),u=(0,z.t)(t);return a.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[c,r,n]),(0,s.jsx)(x.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function Y(e){return e?"checked":"unchecked"}K.displayName="RadioBubbleInput";var X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J="RadioGroup",[Q,ee]=(0,p.b)(J,[S,O]),et=S(),er=O(),[es,ea]=Q(J),en=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:a,defaultValue:n,value:i,required:l=!1,disabled:o=!1,orientation:d,dir:c,loop:u=!0,onValueChange:m,...f}=e,p=et(r),h=w(c),[g,v]=(0,b.T)({prop:i,defaultProp:n??null,onChange:m,caller:J});return(0,s.jsx)(es,{scope:r,name:a,required:l,disabled:o,value:g,onValueChange:v,children:(0,s.jsx)(P,{asChild:!0,...p,orientation:d,dir:h,loop:u,children:(0,s.jsx)(x.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":o?"":void 0,dir:h,...f,ref:t})})})});en.displayName=J;var ei="RadioGroupItem",el=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:n,...i}=e,l=ea(ei,r),o=l.disabled||n,d=et(r),c=er(r),u=a.useRef(null),p=(0,f.e)(t,u),x=l.value===i.value,h=a.useRef(!1);return a.useEffect(()=>{let e=e=>{X.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,s.jsx)(M,{asChild:!0,...d,focusable:!o,active:x,children:(0,s.jsx)(B,{disabled:o,required:l.required,checked:x,...c,...i,name:l.name,ref:p,onCheck:()=>l.onValueChange(i.value),onKeyDown:(0,m.Mj)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,m.Mj)(i.onFocus,()=>{h.current&&u.current?.click()})})})});el.displayName=ei;var eo=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...a}=e,n=er(r);return(0,s.jsx)(H,{...n,...a,ref:t})});eo.displayName="RadioGroupIndicator";var ed=r(69224);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ec=(0,ed.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var eu=r(11453);let em=a.forwardRef(({className:e,...t},r)=>s.jsx(en,{className:(0,eu.cn)("grid gap-2",e),...t,ref:r}));em.displayName=en.displayName;let ef=a.forwardRef(({className:e,...t},r)=>s.jsx(el,{ref:r,className:(0,eu.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(eo,{className:"flex items-center justify-center",children:s.jsx(ec,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ef.displayName=el.displayName;var ep=r(66042),ex=r(39769),eh=r(15997),eg=r(23485),ev=r(64290),eb=r(73229);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ey=(0,ed.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function ew(){let e=(0,n.useSearchParams)(),{toast:t}=(0,ex.pm)(),[r,m]=(0,a.useState)("code"),[f,p]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[w,j]=(0,a.useState)(null),[N,k]=(0,a.useState)(!1),[A,C]=(0,a.useState)("");(0,a.useEffect)(()=>{let t=e.get("code");t&&p(t.toUpperCase())},[e]);let D=async e=>{let r=(e||f).toUpperCase().trim();if(!r||4!==r.length){t({title:"Ung\xfcltiger Code",description:"Bitte geben Sie einen g\xfcltigen 4-stelligen Code ein.",variant:"destructive"});return}h(!0);try{let e=(0,l.hJ)(i.db,"voterCodes"),t=(0,l.IO)(e,(0,l.ar)("code","==",r)),s=await (0,l.PL)(t);if(s.empty){C("Dieser Code ist ung\xfcltig oder existiert nicht."),m("error"),h(!1);return}let a=s.docs[0],n=a.data();if(n.hasVoted){C("Mit diesem Code wurde bereits abgestimmt. Jeder Code kann nur einmal verwendet werden."),m("error"),h(!1);return}let o={id:a.id,electionId:n.electionId,code:n.code,hasVoted:n.hasVoted,votedAt:n.votedAt?.toDate(),createdAt:n.createdAt?.toDate()||new Date},d=(0,l.JU)(i.db,"elections",n.electionId),c=await (0,l.QT)(d);if(!c.exists()){C("Die zugeh\xf6rige Wahl existiert nicht mehr."),m("error"),h(!1);return}let u=c.data();if("active"!==u.status){"draft"===u.status?C("Diese Wahl wurde noch nicht gestartet."):"closed"===u.status||"evaluated"===u.status?C("Diese Wahl ist bereits beendet."):C("Diese Wahl ist nicht aktiv."),m("error"),h(!1);return}let f={id:c.id,associationId:u.associationId,title:u.title,description:u.description,question:u.question,options:u.options,allowInvalidVotes:u.allowInvalidVotes,electionDate:u.electionDate?.toDate()||new Date,maxVoters:u.maxVoters,invitationText:u.invitationText,showLinkWithCode:u.showLinkWithCode||!1,status:u.status,codesGenerated:u.codesGenerated,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date};v(o),y(f),m("voting")}catch(e){console.error("Error verifying code:",e),C("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."),m("error")}finally{h(!1)}},R=async()=>{if(g&&b){if(!w&&!b.allowInvalidVotes){t({title:"Auswahl erforderlich",description:"Bitte w\xe4hlen Sie eine Option aus.",variant:"destructive"});return}if(!w&&b.allowInvalidVotes){k(!0);return}await S(!1)}},S=async e=>{if(g&&b){h(!0);try{await (0,l.ET)((0,l.hJ)(i.db,"votes"),{electionId:b.id,optionId:e?null:w,isInvalid:e,votedAt:l.EK.now()}),await (0,l.r7)((0,l.JU)(i.db,"voterCodes",g.id),{hasVoted:!0,votedAt:l.EK.now()}),m("done")}catch(e){console.error("Error submitting vote:",e),t({title:"Fehler",description:"Ihre Stimme konnte nicht abgegeben werden. Bitte versuchen Sie es erneut.",variant:"destructive"})}finally{h(!1),k(!1)}}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 flex flex-col",children:[s.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm",children:s.jsx("div",{className:"container mx-auto px-4 py-4 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(eh.Z,{className:"h-6 w-6 text-slate-700"}),s.jsx("span",{className:"font-semibold text-slate-800",children:"Vereins-Wahlen"})]})})}),(0,s.jsxs)("main",{className:"flex-1 flex items-center justify-center p-4",children:["code"===r&&(0,s.jsxs)(u.Zb,{className:"w-full max-w-md animate-fade-in",children:[(0,s.jsxs)(u.Ol,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(eg.Z,{className:"h-6 w-6 text-slate-600"})}),s.jsx(u.ll,{className:"text-xl",children:"Abstimmung"}),s.jsx(u.SZ,{children:"Geben Sie Ihren 4-stelligen Code ein, um an der Abstimmung teilzunehmen."})]}),s.jsx(u.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"code",children:"Ihr Code"}),s.jsx(d.I,{id:"code",type:"text",placeholder:"XXXX",maxLength:4,value:f,onChange:e=>p(e.target.value.toUpperCase()),onKeyPress:e=>{"Enter"===e.key&&4===f.length&&D()},className:"text-center text-2xl tracking-widest font-mono",autoComplete:"off",autoFocus:!0})]}),s.jsx(o.z,{onClick:()=>D(),className:"w-full",disabled:x||4!==f.length,children:x?"Wird \xfcberpr\xfcft...":"Zur Abstimmung"}),s.jsx("p",{className:"text-xs text-center text-slate-500",children:"Ihre Stimme wird anonym abgegeben und kann nicht zur\xfcckverfolgt werden."})]})})]}),"voting"===r&&b&&(0,s.jsxs)(u.Zb,{className:"w-full max-w-lg animate-fade-in",children:[(0,s.jsxs)(u.Ol,{children:[s.jsx(u.ll,{className:"text-xl",children:b.title}),b.description&&s.jsx(u.SZ,{children:b.description})]}),s.jsx(u.aY,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-lg mb-4",children:b.question}),s.jsx(em,{value:w||"",onValueChange:j,className:"space-y-3",children:b.options.sort((e,t)=>e.order-t.order).map(e=>(0,s.jsxs)("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${w===e.id?"border-slate-800 bg-white shadow-sm":"border-transparent bg-white hover:border-slate-200"}`,onClick:()=>j(e.id),children:[s.jsx(ef,{value:e.id,id:e.id}),s.jsx(c._,{htmlFor:e.id,className:"flex-1 cursor-pointer text-base",children:e.text})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx(o.z,{onClick:R,size:"lg",className:"w-full",disabled:x,children:x?"Wird abgesendet...":"Stimme abgeben"}),b.allowInvalidVotes&&!w&&s.jsx("p",{className:"text-xs text-center text-slate-500",children:"Sie k\xf6nnen auch ohne Auswahl fortfahren (ung\xfcltige Stimme)."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg text-green-800 text-sm",children:[s.jsx(eg.Z,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:"Ihre Stimme wird anonym und verschl\xfcsselt \xfcbertragen."})]})]})})]}),"done"===r&&s.jsx(u.Zb,{className:"w-full max-w-md animate-fade-in text-center",children:(0,s.jsxs)(u.aY,{className:"pt-8 pb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(ev.Z,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Vielen Dank!"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Ihre Stimme wurde erfolgreich und anonym abgegeben."}),(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg text-sm text-slate-600",children:[s.jsx("p",{children:"Sie k\xf6nnen dieses Fenster nun schlie\xdfen."}),s.jsx("p",{className:"mt-2",children:"Der verwendete Code ist nicht mehr g\xfcltig."})]})]})}),"error"===r&&s.jsx(u.Zb,{className:"w-full max-w-md animate-fade-in text-center",children:(0,s.jsxs)(u.aY,{className:"pt-8 pb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(eb.Z,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Fehler"}),s.jsx("p",{className:"text-slate-600 mb-6",children:A}),s.jsx(o.z,{variant:"outline",onClick:()=>{m("code"),p(""),C("")},children:"Anderen Code eingeben"})]})}),s.jsx(ep.aR,{open:N,onOpenChange:k,children:(0,s.jsxs)(ep._T,{children:[(0,s.jsxs)(ep.fY,{children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(ey,{className:"h-6 w-6 text-amber-600"})}),s.jsx(ep.f$,{className:"text-center",children:"Ung\xfcltige Stimme abgeben?"}),s.jsx(ep.yT,{className:"text-center",children:"Sie haben keine Option ausgew\xe4hlt. Wenn Sie fortfahren, wird Ihre Stimme als ung\xfcltig gewertet."})]}),(0,s.jsxs)(ep.xo,{className:"flex-col sm:flex-row gap-2",children:[s.jsx(ep.le,{className:"w-full sm:w-auto",children:"Zur\xfcck zur Auswahl"}),s.jsx(ep.OL,{onClick:()=>S(!0),className:"w-full sm:w-auto",children:"Ung\xfcltig abstimmen"})]})]})})]}),s.jsx("footer",{className:"border-t bg-white py-4",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-slate-500",children:"Anonyme und sichere Abstimmung | DSGVO-konform"})})]})}function ej(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-slate-500",children:"Laden..."})}),children:s.jsx(ew,{})})}},66042:(e,t,r)=>{"use strict";r.d(t,{aR:()=>E,OL:()=>L,le:()=>W,_T:()=>_,yT:()=>Z,xo:()=>z,fY:()=>V,f$:()=>T,vW:()=>F});var s=r(95344),a=r(3729),n=r(98462),i=r(31405),l=r(10562),o=r(85222),d=Symbol("radix.slottable"),c="AlertDialog",[u,m]=(0,n.b)(c,[l.p8]),f=(0,l.p8)(),p=e=>{let{__scopeAlertDialog:t,...r}=e,a=f(t);return(0,s.jsx)(l.fC,{...a,...r,modal:!0})};p.displayName=c;var x=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,n=f(r);return(0,s.jsx)(l.xz,{...n,...a,ref:t})});x.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...r}=e,a=f(t);return(0,s.jsx)(l.h_,{...a,...r})};h.displayName="AlertDialogPortal";var g=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,n=f(r);return(0,s.jsx)(l.aV,{...n,...a,ref:t})});g.displayName="AlertDialogOverlay";var v="AlertDialogContent",[b,y]=u(v),w=function(e){let t=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=d,t}("AlertDialogContent"),j=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:n,...d}=e,c=f(r),u=a.useRef(null),m=(0,i.e)(t,u),p=a.useRef(null);return(0,s.jsx)(l.jm,{contentName:v,titleName:N,docsSlug:"alert-dialog",children:(0,s.jsx)(b,{scope:r,cancelRef:p,children:(0,s.jsxs)(l.VY,{role:"alertdialog",...c,...d,ref:m,onOpenAutoFocus:(0,o.Mj)(d.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,s.jsx)(w,{children:n}),(0,s.jsx)(I,{contentRef:u})]})})})});j.displayName=v;var N="AlertDialogTitle",k=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,n=f(r);return(0,s.jsx)(l.Dx,{...n,...a,ref:t})});k.displayName=N;var A="AlertDialogDescription",C=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,n=f(r);return(0,s.jsx)(l.dk,{...n,...a,ref:t})});C.displayName=A;var D=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,n=f(r);return(0,s.jsx)(l.x8,{...n,...a,ref:t})});D.displayName="AlertDialogAction";var R="AlertDialogCancel",S=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:n}=y(R,r),o=f(r),d=(0,i.e)(t,n);return(0,s.jsx)(l.x8,{...o,...a,ref:d})});S.displayName=R;var I=({contentRef:e})=>{let t=`\`${v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${v}\` by passing a \`${A}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},q=r(11453),P=r(5094);let E=p,F=x,M=a.forwardRef(({className:e,...t},r)=>s.jsx(g,{className:(0,q.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));M.displayName=g.displayName;let _=a.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(h,{children:[s.jsx(M,{}),s.jsx(j,{ref:r,className:(0,q.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_.displayName=j.displayName;let V=({className:e,...t})=>s.jsx("div",{className:(0,q.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});V.displayName="AlertDialogHeader";let z=({className:e,...t})=>s.jsx("div",{className:(0,q.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});z.displayName="AlertDialogFooter";let T=a.forwardRef(({className:e,...t},r)=>s.jsx(k,{ref:r,className:(0,q.cn)("text-lg font-semibold",e),...t}));T.displayName=k.displayName;let Z=a.forwardRef(({className:e,...t},r)=>s.jsx(C,{ref:r,className:(0,q.cn)("text-sm text-muted-foreground",e),...t}));Z.displayName=C.displayName;let L=a.forwardRef(({className:e,...t},r)=>s.jsx(D,{ref:r,className:(0,q.cn)((0,P.d)(),e),...t}));L.displayName=D.displayName;let W=a.forwardRef(({className:e,...t},r)=>s.jsx(S,{ref:r,className:(0,q.cn)((0,P.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));W.displayName=S.displayName},46540:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(95344),a=r(3729),n=r(11453);let i=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},5426:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});var s=r(95344),a=r(3729);r(81202);var n=r(32751),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.Z8)(`Primitive.${t}`),i=a.forwardRef((e,a)=>{let{asChild:n,...i}=e,l=n?r:t;return(0,s.jsx)(l,{...i,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),l=a.forwardRef((e,t)=>(0,s.jsx)(i.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var o=r(49247),d=r(11453);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef(({className:e,...t},r)=>s.jsx(l,{ref:r,className:(0,d.cn)(c(),e),...t}));u.displayName=l.displayName},65095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`C:\Users\Heidenreich\CascadeProjects\vereins-wahlen\src\app\abstimmen\page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default},92062:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var s=r(3729);function a(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},63085:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(3729),a=r(16069);function n(e){let[t,r]=s.useState(void 0);return(0,a.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[283,146,425],()=>r(37568));module.exports=s})();