(()=>{var e={};e.id=15,e.ids=[15],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},89360:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=r(50482),a=r(69108),l=r(62563),i=r.n(l),o=r(68300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(s,n);let c=["",{children:["admin",{children:["vorlagen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74452)),"C:\\Users\\Heidenreich\\CascadeProjects\\vereins-wahlen\\src\\app\\admin\\vorlagen\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85306)),"C:\\Users\\Heidenreich\\CascadeProjects\\vereins-wahlen\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Heidenreich\\CascadeProjects\\vereins-wahlen\\src\\app\\admin\\vorlagen\\page.tsx"],h="/admin/vorlagen/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/vorlagen/page",pathname:"/admin/vorlagen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52448:(e,s,r)=>{Promise.resolve().then(r.bind(r,14860))},37121:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},14860:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(95344),a=r(3729),l=r(8428),i=r(86671),o=r(81012),n=r(48414),c=r(5094),d=r(46540),h=r(5426),x=r(2690),u=r(12772),m=r(23673),p=r(39769),g=r(63024),j=r(53148),f=r(31498),v=r(70009),w=r(37121);function b(){let{association:e,isAuthenticated:s,isLoading:r}=(0,i.useAuth)(),b=(0,l.useRouter)(),{toast:y}=(0,p.pm)(),[N,C]=(0,a.useState)(!1),[k,q]=(0,a.useState)(!1),[S,z]=(0,a.useState)({showLogo:!0,showHeader:!0,showFooter:!0,headerText:"",footerText:"",backgroundColor:"#ffffff",textColor:"#1e293b",logoUrl:"",customStyles:""});(0,a.useEffect)(()=>{r||s||b.push("/")},[r,s,b]),(0,a.useEffect)(()=>{e&&z(e.ballotTemplate||{showLogo:!0,showHeader:!0,showFooter:!0,headerText:"",footerText:"",backgroundColor:"#ffffff",textColor:"#1e293b",logoUrl:"",customStyles:""})},[e]);let _=async()=>{if(e){C(!0);try{let s=(0,n.JU)(o.db,"associations",e.id);await (0,n.r7)(s,{ballotTemplate:S,updatedAt:n.EK.now()}),y({title:"Vorlage gespeichert",description:"Die Stimmzettel-Vorlage wurde aktualisiert."});let r=localStorage.getItem("vereins-wahlen-auth");if(r){let e=JSON.parse(r);e.ballotTemplate=S,localStorage.setItem("vereins-wahlen-auth",JSON.stringify(e))}}catch(e){console.error("Error saving template:",e),y({title:"Fehler",description:"Die Vorlage konnte nicht gespeichert werden.",variant:"destructive"})}finally{C(!1)}}};return r?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-pulse text-slate-500",children:"Laden..."})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[t.jsx("header",{className:"border-b bg-white sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)(c.z,{variant:"ghost",onClick:()=>b.push("/admin"),children:[t.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Zur\xfcck zum Dashboard"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>q(!k),children:[t.jsx(j.Z,{className:"h-4 w-4 mr-2"}),k?"Editor":"Vorschau"]}),(0,t.jsxs)(c.z,{onClick:_,disabled:N,children:[t.jsx(f.Z,{className:"h-4 w-4 mr-2"}),N?"Speichern...":"Speichern"]})]})]})}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Stimmzettel-Vorlage"}),t.jsx("p",{className:"text-slate-600",children:"Gestalten Sie das Aussehen Ihrer gedruckten Stimmzettel."})]}),k?(0,t.jsxs)(m.Zb,{children:[(0,t.jsxs)(m.Ol,{children:[(0,t.jsxs)(m.ll,{className:"flex items-center gap-2",children:[t.jsx(j.Z,{className:"h-5 w-5"}),"Vorschau"]}),t.jsx(m.SZ,{children:"So wird der Stimmzettel gedruckt."})]}),t.jsx(m.aY,{children:(()=>{let e=`
      .ballot-preview {
        background-color: ${S.backgroundColor};
        color: ${S.textColor};
        padding: 2rem;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        max-width: 400px;
        margin: 0 auto;
        font-family: Arial, sans-serif;
        ${S.customStyles}
      }
      .ballot-preview h2 {
        margin: 0 0 1rem 0;
        font-size: 1.5rem;
        font-weight: bold;
      }
      .ballot-preview p {
        margin: 0.5rem 0;
        line-height: 1.5;
      }
      .ballot-preview .qr-section {
        border-top: 2px solid ${S.textColor};
        border-bottom: 2px solid ${S.textColor};
        padding: 1rem 0;
        margin: 1rem 0;
        text-align: center;
      }
      .ballot-preview .footer {
        font-size: 0.75rem;
        opacity: 0.7;
        margin-top: 1rem;
      }
    `;return(0,t.jsxs)("div",{className:"ballot-preview",children:[t.jsx("style",{children:e}),S.showLogo&&t.jsx("div",{className:"text-center mb-4",children:S.logoUrl?t.jsx("img",{src:S.logoUrl,alt:"Logo",className:"h-16 mx-auto"}):t.jsx("div",{className:"h-16 bg-gray-200 rounded flex items-center justify-center text-gray-500",children:"Logo"})}),S.showHeader&&S.headerText&&t.jsx("div",{className:"text-center mb-4",children:t.jsx("p",{children:S.headerText})}),t.jsx("h2",{children:"Beispiel-Wahl"}),t.jsx("p",{children:"Dies ist eine Beispielabstimmung zur Vorschau der Vorlage."}),(0,t.jsxs)("div",{className:"qr-section",children:[t.jsx("p",{children:"QR-Code Bereich"}),t.jsx("div",{className:"bg-gray-200 w-32 h-32 mx-auto rounded flex items-center justify-center",children:"QR"}),t.jsx("p",{className:"text-sm mt-2",children:"Code: ABCD"})]}),S.showFooter&&S.footerText&&t.jsx("div",{className:"footer text-center",children:t.jsx("p",{children:S.footerText})}),t.jsx("div",{className:"footer text-center",children:t.jsx("p",{children:"Stimmzettel 1 von 100"})})]})})()})]}):(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(m.Zb,{children:[t.jsx(m.Ol,{children:(0,t.jsxs)(m.ll,{className:"flex items-center gap-2",children:[t.jsx(v.Z,{className:"h-5 w-5"}),"Design-Einstellungen"]})}),(0,t.jsxs)(m.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(h._,{htmlFor:"backgroundColor",children:"Hintergrundfarbe"}),t.jsx(d.I,{id:"backgroundColor",type:"color",value:S.backgroundColor,onChange:e=>z({...S,backgroundColor:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(h._,{htmlFor:"textColor",children:"Textfarbe"}),t.jsx(d.I,{id:"textColor",type:"color",value:S.textColor,onChange:e=>z({...S,textColor:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(h._,{htmlFor:"logoUrl",children:"Logo-URL"}),t.jsx(d.I,{id:"logoUrl",placeholder:"https://example.com/logo.png",value:S.logoUrl,onChange:e=>z({...S,logoUrl:e.target.value})}),t.jsx("p",{className:"text-xs text-slate-500",children:"URL zu Ihrem Vereinslogo (optional)"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(h._,{htmlFor:"showLogo",children:"Logo anzeigen"}),t.jsx(u.r,{id:"showLogo",checked:S.showLogo,onCheckedChange:e=>z({...S,showLogo:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(h._,{htmlFor:"showHeader",children:"Kopfzeile anzeigen"}),t.jsx(u.r,{id:"showHeader",checked:S.showHeader,onCheckedChange:e=>z({...S,showHeader:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(h._,{htmlFor:"showFooter",children:"Fu\xdfzeile anzeigen"}),t.jsx(u.r,{id:"showFooter",checked:S.showFooter,onCheckedChange:e=>z({...S,showFooter:e})})]})]})]})]}),(0,t.jsxs)(m.Zb,{children:[t.jsx(m.Ol,{children:(0,t.jsxs)(m.ll,{className:"flex items-center gap-2",children:[t.jsx(w.Z,{className:"h-5 w-5"}),"Text-Inhalte"]})}),(0,t.jsxs)(m.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(h._,{htmlFor:"headerText",children:"Kopfzeilentext"}),t.jsx(x.g,{id:"headerText",placeholder:"Willkommen zur Wahl des Vereins...",value:S.headerText,onChange:e=>z({...S,headerText:e.target.value}),rows:3})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(h._,{htmlFor:"footerText",children:"Fu\xdfzeilentext"}),t.jsx(x.g,{id:"footerText",placeholder:"Diese Wahl wird anonym durchgef\xfchrt...",value:S.footerText,onChange:e=>z({...S,footerText:e.target.value}),rows:3})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(h._,{htmlFor:"customStyles",children:"Benutzerdefinierte CSS"}),t.jsx(x.g,{id:"customStyles",placeholder:".custom-class { font-weight: bold; }",value:S.customStyles,onChange:e=>z({...S,customStyles:e.target.value}),rows:6,className:"font-mono text-sm"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Zus\xe4tzliches CSS f\xfcr erweiterte Anpassungen (f\xfcr Fortgeschrittene)"})]})]})]})]}),!k&&(0,t.jsxs)(m.Zb,{className:"mt-6",children:[t.jsx(m.Ol,{children:t.jsx(m.ll,{children:"Hinweise"})}),(0,t.jsxs)(m.aY,{className:"space-y-2 text-sm text-slate-600",children:[t.jsx("p",{children:"• Die Vorlage wird f\xfcr alle zuk\xfcnftigen Wahlen verwendet"}),t.jsx("p",{children:"• QR-Codes werden immer gedruckt, Links mit Codes sind optional"}),t.jsx("p",{children:"• \xc4nderungen wirken sich nur auf neue Wahlen aus"}),t.jsx("p",{children:"• Verwenden Sie die Vorschau um das Ergebnis zu pr\xfcfen"})]})]})]})]}):null}},74452:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let t=(0,r(86843).createProxy)(String.raw`C:\Users\Heidenreich\CascadeProjects\vereins-wahlen\src\app\admin\vorlagen\page.tsx`),{__esModule:a,$$typeof:l}=t,i=t.default}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[283,425,922],()=>r(89360));module.exports=t})();